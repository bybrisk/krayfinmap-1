(this.webpackJsonpbybrisk=this.webpackJsonpbybrisk||[]).push([[10],{476:function(e,t,a){"use strict";a.r(t);var n=a(151),l=a(0),r=a.n(l),c=a(424),i=a(459),s=a(413),o=a.n(s),m=a(448),u=a(449),d=a(450),b=a(451),g=a(118),E=a(119),p=a(23),f=a(48),h=a(49),y=a(155),j=a(40);const O=Object(g.a)(e=>({listItem:{paddingTop:0,paddingBottom:0},avatar:{height:20,width:20,borderRadius:"50%"},iconContainer:{minWidth:30},cardContainer:{position:"absolute",top:150,right:45,maxWidth:200,maxHeight:200,zIndex:60,overflow:"scroll",background:"#fff",textAlign:"left",borderRadius:10,transition:"all 0.4s",boxShadow:"0px 0px 120px -25px rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",minWidth:100}})),v=({color:e})=>r.a.createElement("div",null,r.a.createElement(o.a,{style:{color:e}}));t.default=()=>{const e=Object(h.b)().enqueueSnackbar,t=O(),a=Object(l.useState)([]),s=Object(n.a)(a,2),o=s[0],g=s[1],S=Object(l.useState)(!1),C=Object(n.a)(S,2),x=C[0],I=C[1],D=Object(l.useState)({lat:23.202357,lng:77.414254}),k=Object(n.a)(D,2),w=k[0],N=(k[1],Object(p.c)(e=>e.bybId)),A=Object(l.useState)(11),P=Object(n.a)(A,2),B=P[0],R=P[1];return Object(l.useEffect)(()=>(I(!0),Object(f.l)({bybId:N,setClusters:g,enqueueSnackbar:e,setLoading:I}),()=>{}),[N]),console.log(o),r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,null,r.a.createElement("title",null,"Cluster Summary"),r.a.createElement("meta",{name:"description",content:"Visual Representation of Deliveries of your account Made Simple"})),r.a.createElement("div",{style:{height:"90vh",width:"100%"}},r.a.createElement("div",{className:t.cardContainer,id:"bright"},x?r.a.createElement(i.a,{style:{height:"30px",width:"30px",color:"#4caf50"}}):r.a.createElement(m.a,{"aria-label":"Cluster display"},0===o.length&&r.a.createElement(u.a,{className:t.listItem,style:{marginTop:23,color:"#057g78"}},"No Clusters Present"),o.map((e,a)=>r.a.createElement(u.a,{button:!0,key:e[0].clusterid,component:j.b,to:{pathname:"/dashboard/clusterDeliveries",state:{clusterID:e[0].clusterid}},className:t.listItem},r.a.createElement(d.a,{className:t.iconContainer},r.a.createElement(E.a,{className:t.avatar,style:{background:e[0].color},variant:"circle"})),r.a.createElement(b.a,{primary:"cluser ".concat(a)}))))),r.a.createElement(c.a,{bootstrapURLKeys:{key:"AIzaSyCuMJ3dhADqNoE4tGuWTI3_NlwBihj5BtE"},defaultCenter:w,defaultZoom:B,yesIWantToUseGoogleMapApiInternals:!0,onChange:({zoom:e,bounds:t})=>{R(e)}},o.map(e=>e.map(e=>r.a.createElement(v,{lat:e.geometry.latitude,lng:e.geometry.longitude,color:e.color,text:"My Marker"}))))))}},477:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return g}));var n=a(151),l=a(271),r=a(0),c=a.n(r),i=a(4),s=a(51),o=a(155),m=a(48),u=a(231),d=a.n(u);const b=e=>{const t=e.array,a=e.filter;return t.filter(e=>e._source.deliveryStatus===a).length};function g(e){console.log(e.location,e.location.state,"--------------------------------");const t=Object(i.g)(),a=null!==e.location.state&&e.location.state.clusterID;console.log(a),Object(r.useEffect)(()=>{Object(m.k)({clusterID:a,setDelivery:p})},[a]);const u=c.a.useState([]),g=Object(n.a)(u,2),E=g[0],p=g[1];b({array:E,filter:"confirmed"}),b({array:E,filter:"cancelled"}),b({array:E,filter:"pending"}),b({array:E,filter:"transit"});return c.a.createElement(c.a.Fragment,null,c.a.createElement(o.a,null,c.a.createElement("title",null,"Deliveries"),c.a.createElement("meta",{name:"description",content:"List of Deliveries of your account"})),c.a.createElement(r.Suspense,{fallback:c.a.createElement(s.a,null)},c.a.createElement(d.a,{onClick:()=>t.goBack()}),c.a.createElement(l.a,{rows:E,setDelivery:p})))}},492:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return P}));var n=a(151),l=a(189),r=a.n(l),c=a(155),i=a(49),s=a(119),o=a(118),m=a(473),u=a(474),d=a(469),b=a(472),g=a(491),E=a(470),p=a(0),f=a.n(p),h=a(23),y=a(48),j=a(171),O=a(471),v=a(499);var S=function(e){const t=e.classes,a=e.order,n=e.orderBy,l=e.onRequestSort,r=e.headCells;return f.a.createElement(O.a,null,f.a.createElement(E.a,null,r.map(e=>{return f.a.createElement(j.a,{key:e.id,align:"center",padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&a},f.a.createElement(v.a,{active:n===e.id,direction:n===e.id?a:"asc",onClick:(r=e.id,e=>{l(e,r)})},e.label,n===e.id?f.a.createElement("span",{className:t.visuallyHidden},"desc"===a?"sorted descending":"sorted ascending"):null));var r})))},C=a(463),x=a(459),I=a(121),D=a(452),k=a(157);const w=Object(o.a)(e=>({title:{fontWeight:550,fontSize:"2rem"},toolbarContainer:{padding:e.spacing(3,1)}}));function N(e){const t=Object(p.useState)(!1),a=Object(n.a)(t,2),l=a[0],r=a[1],c=f.a.useState([]),s=Object(n.a)(c,2),o=s[0],m=s[1],u=Object(h.c)(e=>e.bybId),d=Object(i.b)().enqueueSnackbar;Object(p.useEffect)(()=>(Object(y.j)({bybId:u,setAgents:m}),()=>{}),[u]);const b=Object(p.useState)(0),g=Object(n.a)(b,2),E=g[0],j=g[1],O=w();return f.a.createElement(C.a,{container:!0,justify:"center",direction:"column",alignItems:"center",className:O.toolbarContainer},f.a.createElement(C.a,{item:!0,xs:12,md:10,container:!0,justify:"flex-start"},f.a.createElement(I.a,{variant:"h5",component:"h6",gutterBottom:!0,className:O.title},"Cluster")),f.a.createElement(C.a,{item:!0,xs:12,md:10,container:!0,justify:"flex-start",style:{marginBottom:20}},f.a.createElement(C.a,{item:!0,xs:12,md:3,lg:2,container:!0},f.a.createElement(I.a,{variant:"h6"},"No. of Clusters :")),f.a.createElement(C.a,{container:!0,xs:12,md:8,alignItems:"flex-start"},f.a.createElement(D.a,{variant:"outlined",style:{maxWidth:200,marginRight:30},margin:"dense",onChange:e=>j(e.target.value),type:"number",min:0,max:o.length,helperText:"Must be less than no. of Agents Added to your account"}),f.a.createElement(k.a,{variant:"contained",disableFocusRipple:!0,disableElevation:!0,type:"submit",onClick:()=>{if(r(!0),console.log(o),console.log(E),E>o.length&&0===E)return console.log("oops,this being called"),r(!1),void j(0);const e=JSON.stringify({BybID:u,NumberOfCluster:E});Object(y.t)({clusterData:e,enqueueSnackbar:d,setSubmitting:r}),j(0)},style:{marginTop:6,maxWidth:180}},l?f.a.createElement(x.a,{style:{height:"20px",width:"20px",color:"#fff"}}):"Create Clusters"))),f.a.createElement(C.a,{item:!0,xs:12,md:10,container:!0,justify:"flex-start",style:{marginBottom:20}},f.a.createElement(C.a,{item:!0,xs:12,md:3,lg:3,container:!0,alignItems:"center"},f.a.createElement(I.a,{variant:"h6"},"Total Deliveries :")),f.a.createElement(C.a,{container:!0,xs:12,md:8,alignItems:"center"},f.a.createElement(I.a,{variant:"h4",component:"h5"},"23"))))}const A=Object(o.a)(e=>({root:{width:"100%",padding:e.spacing(3)},paper:{width:"100%",marginBottom:e.spacing(2),paddingTop:20},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},avatar:{color:"#ffffff",backgroundColor:r.a[700]}}));function P(e){const t=A(),a=f.a.useState("asc"),l=Object(n.a)(a,2),r=l[0],o=l[1],O=f.a.useState("AgentID"),v=Object(n.a)(O,2),C=v[0],x=v[1],I=f.a.useState(0),D=Object(n.a)(I,2),k=D[0],w=D[1],P=f.a.useState(""),B=Object(n.a)(P,2),R=(B[0],B[1],Object(i.b)().enqueueSnackbar,Object(p.useState)(!1)),W=Object(n.a)(R,2),q=(W[0],W[1],f.a.useState(10)),T=Object(n.a)(q,2),M=T[0],F=T[1],z=f.a.useState(!1),J=Object(n.a)(z,2),L=(J[0],J[1],f.a.useState([])),H=Object(n.a)(L,2),G=H[0],U=H[1],_=Object(h.c)(e=>e.bybId);Object(p.useEffect)(()=>(Object(y.o)({bybId:_,setClusters:U}),()=>{}),[_]);const K=M-Math.min(M,G.length-k*M);return f.a.createElement(f.a.Fragment,null,f.a.createElement(c.a,null,f.a.createElement("title",null,"Agents"),f.a.createElement("meta",{name:"description",content:"List of Agents Delivering your deliveries"})),f.a.createElement("div",{className:t.root},f.a.createElement(s.a,{className:t.paper},f.a.createElement(N,null),f.a.createElement(b.a,null,f.a.createElement(m.a,{className:t.table,"aria-labelledby":"Agents","aria-label":"Agent Data"},f.a.createElement(S,{classes:t,order:r,orderBy:C,onRequestSort:(e,t)=>{o(C===t&&"asc"===r?"desc":"asc"),x(t)},rowCount:G.length,headCells:[{id:"clusterid",numeric:!0,disablePadding:!1,label:"Cluster ID"},{id:"deliveryAgentID",numeric:!0,disablePadding:!1,label:"Agent ID"},{id:"totalDeliveries",numeric:!1,disablePadding:!1,label:"Deliveries in Cluster"}]}),f.a.createElement(u.a,null,G&&Object(j.e)(G,Object(j.c)(r,C)).slice(k*M,k*M+M).map(e=>f.a.createElement(f.a.Fragment,null,f.a.createElement(j.b,{tabIndex:-1,key:e.name},f.a.createElement(j.a,{align:"center"},e.clusterid),f.a.createElement(j.a,{align:"center"},e.deliveryAgentID),f.a.createElement(j.a,{align:"center"},e.totalDeliveries)))),K>0&&f.a.createElement(E.a,null,f.a.createElement(d.a,{colSpan:6}))))),f.a.createElement(g.a,{rowsPerPageOptions:[5,10,25],component:"div",count:G.length,rowsPerPage:M,page:k,onChangePage:(e,t)=>{w(t)},onChangeRowsPerPage:e=>{F(parseInt(e.target.value,10)),w(0)}}))))}}}]);
//# sourceMappingURL=views-error.7fdc529f.chunk.js.map