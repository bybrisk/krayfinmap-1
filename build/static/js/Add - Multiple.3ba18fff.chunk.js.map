{"version":3,"sources":["Assets/excelDemo.jpg","components/application/deliveryTable/failedDeliveries/toolbar.js","components/application/deliveryTable/failedDeliveries/failedDeliveryTable.js","components/application/deliveryTable/AddMultiple.js"],"names":["module","exports","useToolbarStyles","makeStyles","theme","root","paddingLeft","spacing","paddingRight","padding","display","justifyContent","alignItems","breakpoints","down","flexDirection","root1","btn","maxWidth","width","backgroundColor","palette","secondary","main","border","outline","height","borderRadius","color","textTransform","fontWeight","margin","cursor","transition","light","title","flex","EnhancedTableToolbar","props","classes","React","useState","Toolbar","className","Typography","variant","Button","disableFocusRipple","disableElevation","style","fontSize","marginTop","useStyles","paper","marginBottom","paddingTop","table","minWidth","visuallyHidden","clip","overflow","position","top","avatar","red","DeliveryContainer","rows","order","setOrder","orderBy","setOrderBy","page","setPage","rowsPerPage","setRowsPerPage","lastChild","useRef","emptyRows","Math","min","length","Helmet","name","content","fallback","Loader","Paper","TableContainer","Table","aria-labelledby","aria-label","onRequestSort","event","property","rowCount","headCells","id","numeric","disablePadding","label","TableBody","stableSort","getComparator","slice","map","row","tabIndex","key","_source","CustomerName","ref","align","TableRow","TableCell","colSpan","TablePagination","rowsPerPageOptions","component","count","onChangePage","newPage","onChangeRowsPerPage","parseInt","target","value","CircularProgressWithLabel","Box","CircularProgress","left","bottom","right","round","AddMultiple","progress","setProgress","useSnackbar","enqueueSnackbar","loader","setLoader","cancel","status","bybId","useSelector","state","failedDeliveries","setFailedDeliveries","showFailed","setShowFailed","ApiRequestsWithoutLatitude","data","a","console","log","deliveryJson","item","JSON","stringify","CustomerAddress","itemWeight","phone","toString","paymentStatus","amount","pincode","BybID","RequestMaker","index","closeModal","AddDelivery","article","response","message","newDeliveries","concat","ApiRequestsWithLatitude","latitude","longitude","AddDeliveryWithGeoCode","src","ExcelDemo","alt","type","onChange","e","file","promise","Promise","resolve","reject","fileReader","FileReader","readAsArrayBuffer","onload","bufferArray","result","wb","XLSX","read","wsname","SheetNames","ws","Sheets","utils","sheet_to_json","onerror","error","then","Latitude","readExcel","files","accept","htmlFor","background","textAlign"],"mappings":"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","file":"static/js/Add - Multiple.3ba18fff.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/excelDemo.9af5988d.jpg\";","import Backdrop from '@material-ui/core/Backdrop';\r\nimport Grow from '@material-ui/core/Grow';\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport React, { useRef, useState, Suspense } from 'react';\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport {useSelector} from 'react-redux';\r\nimport 'App.css';\r\nimport { Button } from '@material-ui/core';\r\n\r\n//styles for enhanced table toolbar\r\nconst useToolbarStyles = makeStyles((theme) => ({\r\n    root: {\r\n      paddingLeft: theme.spacing(2),\r\n      paddingRight: theme.spacing(1),\r\n      padding:'0 30px',\r\n      display:'flex',\r\n      justifyContent:'space-between',\r\n      alignItems:'center',\r\n      [theme.breakpoints.down(\"xs\")]: {\r\n        justifyContent: \"center\",\r\n        flexDirection:'column',\r\n        alignItems: \"flex-start\",\r\n      \r\n        }\r\n  \r\n    },\r\n    root1:{\r\n      paddingLeft: theme.spacing(2),\r\n      paddingRight: theme.spacing(1),\r\n      padding:'0 30px',\r\n\r\n    },\r\n    btn:{\r\n      maxWidth:220,\r\n      width: \"100%\",\r\n      backgroundColor: theme.palette.secondary.main,\r\n      border: 'none',\r\n      outline: \"none\",\r\n      height: 49,\r\n      borderRadius: 49,\r\n      color: \"#fff\",\r\n      textTransform: \"uppercase\",\r\n      fontWeight: \"600\",\r\n      margin: \"10px 0\",\r\n      cursor: \"pointer\",\r\n      transition: \"0.5s\",\r\n    '&:hover':{\r\n      backgroundColor: theme.palette.secondary.light,\r\n\r\n    },\r\n    [theme.breakpoints.down(\"sm\")]:{\r\n      maxWidth: 180,\r\n  height:42\r\n    }\r\n    },\r\n    title: {\r\n      flex: '1 1 100%',\r\n    },\r\n  }));\r\n  \r\n  //thiis is to show \"Agent\" at top Helps in fixing \r\n  //them just above table\r\n  const EnhancedTableToolbar = (props) => {\r\n    const classes = useToolbarStyles();\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n\r\n  // this has to be done by ref so when window event resize listener will trigger - we will get the current element\r\n  \r\n\r\n    return (\r\n      <>\r\n      <Toolbar\r\n        className={classes.root}\r\n      >\r\n   \r\n      <Typography variant=\"h5\">Failed Deliveries</Typography>\r\n      <Button variant=\"contained\"\r\n                                disableFocusRipple={true}\r\n                                disableElevation={true}\r\n        \r\n         color=\"primary\" className={classes.btn}>Download as Excel <AddIcon style={{fontSize:'25px',marginTop:'4px'}}/></Button>\r\n    \r\n      </Toolbar>\r\n {/* <div className={classes.root1}>\r\n      <Grid item xs={12} md={10} container justify=\"flex-start\" style={{marginBottom:20}}>\r\n        <Grid item xs={12} md={2} lg={2} container alignItems=\"center\">\r\n          <Typography variant=\"h6\">center_id :</Typography>\r\n        </Grid>\r\n        <Grid container xs={12} md={8} alignItems=\"center\">\r\n          <Typography variant=\"h5\" component=\"h5\">{supervisor_id}</Typography>\r\n        </Grid>\r\n      </Grid>\r\n</div> */}\r\n </>\r\n    );\r\n  };\r\n\r\n  export default EnhancedTableToolbar;","import red from '@material-ui/core/colors/indigo';\r\n//dependencies for modal\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n//dependecies for table\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport { useSnackbar } from 'notistack';\r\nimport React, { useEffect, useRef, Suspense} from 'react';\r\nimport Loader from '../../Loader/Loader'\r\nimport { Helmet } from \"react-helmet\";\r\n// import AgentDetail from '../AgentDetails'\r\nimport { getComparator, stableSort, StyledTableCell, StyledTableRow } from '../../tableHelpers/helpers';\r\nimport TableHead from '../tableHead';\r\nimport Toolbar from './toolbar'\r\n//divided component to make them one\r\n\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      width: '100%',\r\n      padding:theme.spacing(3)\r\n\r\n    },\r\n    paper: {\r\n      width: '100%',\r\n      marginBottom: theme.spacing(2),\r\n      paddingTop:20\r\n    },\r\n    table: {\r\n      minWidth: 750,\r\n    },\r\n    visuallyHidden: {\r\n      border: 0,\r\n      clip: 'rect(0 0 0 0)',\r\n      height: 1,\r\n      margin: -1,\r\n      overflow: 'hidden',\r\n      padding: 0,\r\n      position: 'absolute',\r\n      top: 20,\r\n      width: 1,\r\n    },\r\n    avatar: {\r\n      color: '#ffffff',\r\n      backgroundColor:red[700],\r\n    },\r\n  }));\r\n\r\n  export default function DeliveryContainer(props) {\r\n    const {rows} = props;\r\n    const classes = useStyles();\r\n  //page elements starts\r\n    const [order, setOrder] = React.useState('asc');\r\n    const [orderBy, setOrderBy] = React.useState('AgentID');\r\n    const [page, setPage] = React.useState(0);\r\n    const [rowsPerPage, setRowsPerPage] = React.useState(10);\r\n    const lastChild = useRef(null);\r\n    const headCells = [\r\n      { id: 'CustomerName', numeric: false, disablePadding: false, label: 'Name' },\r\n      { id: 'Locality', numeric: false, disablePadding: false, label: 'Locality' },\r\n      { id: 'Landmark', numeric: false, disablePadding: false, label: 'Landmark' },\r\n      { id: 'City', numeric: false, disablePadding: false, label: 'City' },\r\n      { id: 'Pin', numeric: false, disablePadding: false, label: 'Pin' },\r\n      { id: 'phone', numeric: true, disablePadding: false, label: 'Mobile' },\r\n      { id: 'itemWeight', numeric: true, disablePadding: false, label: 'Item Weight' },\r\n      { id: 'Amount', numeric: true, disablePadding: false, label: 'Payment' },\r\n  \r\n    ];\r\n    const handleRequestSort = (event, property) => {\r\n        const isAsc = orderBy === property && order === 'asc';\r\n        setOrder(isAsc ? 'desc' : 'asc');\r\n        setOrderBy(property);\r\n      };\r\n    \r\n      \r\n      //function for page change\r\n      const handleChangePage = (event, newPage) => {\r\n        setPage(newPage);\r\n      };\r\n    \r\n      //function for row change\r\n      const handleChangeRowsPerPage = (event) => {\r\n        setRowsPerPage(parseInt(event.target.value, 10));\r\n        setPage(0);\r\n      };\r\n    \r\n    //telling how many rows can come into this page\r\n      const emptyRows = rowsPerPage - Math.min(rowsPerPage, rows.length - page * rowsPerPage);\r\n    //page elements end\r\n  \r\n   //query is internal part of application\r\n    \r\n   \r\n    return (\r\n      <>\r\n       <Helmet>\r\n          <title>Failed Deliveries</title>\r\n          <meta name=\"description\" content=\"List of Deliveries failed while uploading \"  />\r\n        </Helmet>\r\n   <Suspense fallback={<Loader />}>\r\n      <div className={classes.root}>\r\n        <Paper className={classes.paper}>\r\n        <Toolbar/>\r\n          <TableContainer>\r\n            <Table\r\n              className={classes.table}\r\n              aria-labelledby=\"Agents\"\r\n              aria-label=\"Agent Data\"\r\n            >\r\n              <TableHead\r\n                classes={classes}\r\n                order={order}\r\n                orderBy={orderBy}\r\n                onRequestSort={handleRequestSort}\r\n                rowCount={rows.length}\r\n                headCells={headCells}\r\n              />\r\n              <TableBody>\r\n              {rows && (\r\n                stableSort(rows, getComparator(order, orderBy))\r\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n                  .map((row) => {\r\n                    return (\r\n                      <>\r\n                      <StyledTableRow\r\n                        tabIndex={-1}\r\n                        key={row._source.CustomerName}\r\n                        ref={lastChild}\r\n                        style={{cursor:'pointer'}}\r\n                        >\r\n                <StyledTableCell align=\"center\"  >{row[\"Customer Name\"]}</StyledTableCell>\r\n                <StyledTableCell align=\"center\" >{row[\"Locality\"]}</StyledTableCell>\r\n                <StyledTableCell align=\"center\" >{row[\"Landmark\"]}</StyledTableCell>\r\n                <StyledTableCell align=\"center\" >{row[\"City\"]}</StyledTableCell>              \r\n                <StyledTableCell align=\"center\" >{row[\"Pin\"]}</StyledTableCell>\r\n                <StyledTableCell align=\"center\" >{row[\"Phone\"]}</StyledTableCell>\r\n                <StyledTableCell align=\"center\" >{row[\"Item Weight\"]}</StyledTableCell>\r\n                <StyledTableCell align=\"center\" >{row[\"Amount\"]}</StyledTableCell>\r\n \r\n                      </StyledTableRow>\r\n      \r\n     </>\r\n    \r\n                    );\r\n                  })\r\n                )\r\n                  }\r\n                {emptyRows > 0 && (\r\n                  <TableRow >\r\n                    <TableCell colSpan={6} />\r\n                  </TableRow>\r\n                )}\r\n              </TableBody>\r\n            </Table>\r\n          </TableContainer>\r\n          <TablePagination\r\n            rowsPerPageOptions={[5, 10, 25]}\r\n            component=\"div\"\r\n            count={rows.length}\r\n            rowsPerPage={rowsPerPage}\r\n            page={page}\r\n            onChangePage={handleChangePage}\r\n            onChangeRowsPerPage={handleChangeRowsPerPage}\r\n          />\r\n        </Paper>\r\n        \r\n      </div>\r\n  </Suspense>\r\n    </>\r\n    );\r\n}","import React,{useState} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Box from '@material-ui/core/Box';\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { Wrapper } from \"helpers/Styles\";\r\nimport { useSnackbar } from 'notistack';\r\nimport FailedDeliveries from './failedDeliveries/failedDeliveryTable'\r\nimport Button from '../button/button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport XLSX from 'xlsx';\r\nimport {useSelector} from \"react-redux\";\r\nimport {AddDelivery,AddDeliveryWithGeoCode} from 'helpers/NetworkRequest'\r\nimport 'App.css'\r\nimport ExcelDemo from 'Assets/excelDemo.jpg'\r\nimport { object } from 'yup';\r\nfunction CircularProgressWithLabel(props) {\r\n  return (\r\n    <Box position=\"relative\" display=\"inline-flex\">\r\n      <CircularProgress variant=\"determinate\" {...props} />\r\n      <Box\r\n        top={0}\r\n        left={0}\r\n        bottom={0}\r\n        right={0}\r\n        position=\"absolute\"\r\n        display=\"flex\"\r\n        alignItems=\"center\"\r\n        justifyContent=\"center\"\r\n      >\r\n        <Typography variant=\"caption\" component=\"div\" style={{color:'#ffffff'}}>{`${Math.round(\r\n          props.value,\r\n        )}%`}</Typography>\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n\r\nCircularProgressWithLabel.propTypes = {\r\n  /**\r\n   * The value of the progress indicator for the determinate variant.\r\n   * Value between 0 and 100.\r\n   */\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\n\r\n\r\n\r\nconst AddMultiple = (props) =>{\r\n  const [progress, setProgress] = React.useState(0);\r\n  const { enqueueSnackbar } = useSnackbar();\r\nconst [loader,setLoader] = useState(false);\r\nlet cancel = {status:false}\r\nconst bybId = useSelector(state => state.bybId)\r\nconst [failedDeliveries,setFailedDeliveries] = useState([])\r\nconst [showFailed,setShowFailed] = useState(false)  \r\n\r\n\r\n  const ApiRequestsWithoutLatitude = async (data) =>{\r\n    console.log(\"started final step\",loader)\r\n    console.log(data,cancel.status,\"enyered ifinanfjfj\")\r\n    const deliveryJson = data.map(item=>{\r\n      return JSON.stringify({\r\n        CustomerAddress: item['Locality']+\", \"+item[\"Landmark\"]+ \", \" +item[\"City\"],\r\n        itemWeight: item[\"Item Weight\"],\r\n        phone: item[\"Phone\"].toString(),\r\n        CustomerName:item[\"Customer Name\"],\r\n        paymentStatus:item[\"Amount\"]?false:true,\r\n        amount:item[\"Amount\"] || 0,\r\n        pincode:item[\"Pincode\"].toString(),\r\n        BybID:bybId\r\n      })\r\n    })\r\n    console.log(loader)\r\n\r\n    const RequestMaker = async (index) => {\r\n      console.log(cancel.status,\"from request maker\")\r\nif(cancel.status===true || index>=deliveryJson.length){\r\n  failedDeliveries.length!==0 ? setShowFailed(true) : props.closeModal()\r\n\r\n  return;\r\n}\r\nconst response =  await AddDelivery({article:deliveryJson[index],setFailedDeliveries,failedDeliveries})\r\nconsole.log(response)\r\nif(response.data.message===\"GEOCODING FAILED\"){\r\n  const newDeliveries = failedDeliveries.concat(data[index])\r\n  setFailedDeliveries(newDeliveries)\r\n}\r\nsetProgress((index/data.length)*100);\r\n\r\nRequestMaker(index+1)\r\nreturn;\r\n    }\r\n\r\n    await RequestMaker(0)\r\n}\r\n\r\nconst ApiRequestsWithLatitude = async (data) =>{\r\n  console.log(\"started final step\",loader)\r\n  console.log(data,cancel.status,\"enyered ifinanfjfj\")\r\n  const deliveryJson = data.map(item=>{\r\n    return JSON.stringify({\r\n      CustomerAddress: item['Locality']+\", \"+item[\"Landmark\"]+ \", \" +item[\"City\"],\r\n      itemWeight: item[\"Item Weight\"],\r\n      phone: item[\"Phone\"].toString(),\r\n      latitude:item['Latitude'],\r\n      longitude:item[\"Longitude\"],\r\n      CustomerName:item[\"Customer Name\"],\r\n      paymentStatus:item[\"Amount\"]?false:true,\r\n      amount:item[\"Amount\"] || 0,\r\n      pincode:item[\"Pincode\"].toString(),\r\n      BybID:bybId\r\n    })\r\n  })\r\n  console.log(loader)\r\n\r\n  const RequestMaker = async (index) => {\r\n    console.log(cancel.status,\"from request maker\")\r\nif(cancel.status===true || index>=deliveryJson.length){\r\n  failedDeliveries.length!==0 ? setShowFailed(true) : props.closeModal()\r\n\r\nreturn;\r\n}\r\nconst response =  await AddDeliveryWithGeoCode({article:deliveryJson[index],setFailedDeliveries,failedDeliveries})\r\nif(response.data.message===\"GEOCODING FAILED\"){\r\n  const newDeliveries = failedDeliveries.concat(data[index])\r\n  setFailedDeliveries(newDeliveries)\r\n}\r\nsetProgress((index/data.length)*100);\r\nRequestMaker(index+1)\r\nreturn;\r\n  }\r\n\r\nawait RequestMaker(0)\r\n\r\n}\r\n\r\n\r\n  \r\n//  console.log(deliveryJson)\r\n\r\n\r\n\r\n  \r\nconst handleCancel = () =>{\r\n  console.log(cancel.status,\"from handlecancel\")\r\n\r\ncancel.status = true  \r\n\r\n}\r\n\r\n\r\n    const readExcel = (file) =>{\r\n      setLoader(true);\r\n      console.log(loader,\"----------independent\")\r\nconsole.log(\"reading excel file\",loader)\r\n        const promise = new Promise((resolve,reject)=>\r\n        {\r\n    const fileReader = new FileReader()\r\n    fileReader.readAsArrayBuffer(file);\r\n    fileReader.onload = (e) =>{\r\n      const bufferArray = e.target.result;\r\n      const wb = XLSX.read(bufferArray,{type:'buffer'})\r\n    const wsname = wb.SheetNames[0];\r\n    const ws = wb.Sheets[wsname]\r\n    const data = XLSX.utils.sheet_to_json(ws);\r\n    resolve(data);\r\n    }\r\n        \r\n    fileReader.onerror = ((error)=>{\r\n    reject(error)\r\n    })\r\n    })\r\n    console.log(\"read excel file\",loader)\r\n\r\n    promise.then(data=>{\r\n      data[0].Latitude ? ApiRequestsWithLatitude(data):ApiRequestsWithoutLatitude(data)    })\r\n      }\r\n      console.log(failedDeliveries,\"from global \")\r\n    return(\r\n        <>\r\n        {showFailed?(\r\n          <>\r\n           <FailedDeliveries rows={failedDeliveries}/> \r\n          </>\r\n        ):(<Wrapper className=\"wrapper\" style={{padding:'30px 30px',justifyContent:'flex-start'}}>\r\n   <img src={ExcelDemo} style={{width:'50%'}} alt={'excel file demo'} />\r\n    <div>\r\n  <input type=\"file\" onChange={(e)=>{\r\n        const file = e.target.files[0];\r\n\r\n        readExcel(file)\r\n      }} id=\"excelUpload\" accept=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel\" style={{display: \"none\"}}/>\r\n         \r\n            <label htmlFor=\"excelUpload\">\r\n            <div style={{    background: '#FF6F1F',\r\n    borderRadius:'10rem',\r\n    border:'10px',\r\n    color:'#ffffff',\r\n    margin:'0',\r\n    padding:'1rem',\r\n    width:'300px',\r\n    height:'3.5rem',\r\n    textAlign:'center',\r\n    cursor:'pointer'\r\n}}>\r\n{console.log(loader,\"inside me\")}\r\n          {!loader?\"Upload Excel File\":(<CircularProgressWithLabel value={progress} />)}\r\n</div>\r\n            </label>\r\n{/* <div onClick={handleCancel}>Cancel</div> */}\r\n</div>\r\n    </Wrapper>\r\n)}\r\n\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AddMultiple;\r\n\r\n\r\n\r\n"],"sourceRoot":""}